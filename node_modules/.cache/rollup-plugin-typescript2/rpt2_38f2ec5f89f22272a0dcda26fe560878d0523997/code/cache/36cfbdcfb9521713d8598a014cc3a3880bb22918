{"code":"export const basic = {\r\n    colonizer: (data) => ({\r\n        source: creep => {\r\n            const source = Game.getObjectById(data.source);\r\n            if (creep.harvest(source) == ERR_NOT_IN_RANGE) {\r\n                creep.moveTo(source);\r\n            }\r\n            return creep.store.getFreeCapacity() <= 0;\r\n        },\r\n        target: creep => {\r\n            const cSide = creep.pos.findClosestByRange(FIND_CONSTRUCTION_SITES);\r\n            const controller = Game.rooms[creep.room.name].controller;\r\n            if (creep.upgradeController(controller) == ERR_NOT_IN_RANGE)\r\n                creep.moveTo(controller);\r\n            /*\r\n            if (cSide) {\r\n                if (creep.build(cSide) == ERR_NOT_IN_RANGE) creep.moveTo(cSide);\r\n            }\r\n            */\r\n            return (creep.store.getUsedCapacity() <= 0);\r\n        }\r\n    }),\r\n    builder: (data) => ({\r\n        source: creep => {\r\n            const source = Game.getObjectById(data.source);\r\n            if (creep.harvest(source) == ERR_NOT_IN_RANGE)\r\n                creep.moveTo(source);\r\n            // 自己身上的能量装满了，返回 true（切换至 target 阶段）\r\n            return creep.store.getFreeCapacity() <= 0;\r\n            return true;\r\n        },\r\n        target: creep => {\r\n            const target = Game.getObjectById(data.target);\r\n            if (creep.build(target) == ERR_NOT_IN_RANGE)\r\n                creep.moveTo(target);\r\n            return creep.store[RESOURCE_ENERGY] <= 0;\r\n        }\r\n    }),\r\n    harvester: (data) => ({\r\n        source: creep => {\r\n            return true;\r\n        },\r\n        target: creep => {\r\n            return true;\r\n        }\r\n    }),\r\n};\r\n//# sourceMappingURL=basic.js.map","references":[],"map":"{\"version\":3,\"file\":\"basic.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/creep/role/basic.ts\"],\"names\":[],\"mappings\":\"AAAA,MAAM,CAAC,MAAM,KAAK,GAEd;IACA,SAAS,EAAE,CAAC,IAAsB,EAAgB,EAAE,CAAC,CAAC;QAClD,MAAM,EAAE,KAAK,CAAC,EAAE;YACZ,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAoB,CAAC,CAAC;YAC7D,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,gBAAgB,EAAE;gBAC3C,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;aACxB;YACD,OAAO,KAAK,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QAC9C,CAAC;QACD,MAAM,EAAE,KAAK,CAAC,EAAE;YACZ,MAAM,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,uBAAuB,CAAC,CAAC;YACpE,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC;YAC1D,IAAI,KAAK,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,gBAAgB;gBAAE,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAEtF;;;;cAIE;YAEF,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC,CAAC;QAChD,CAAC;KAKJ,CAAC;IAGF,OAAO,EAAE,CAAC,IAAsB,EAAgB,EAAE,CAAC,CAAC;QAChD,MAAM,EAAE,KAAK,CAAC,EAAE;YACZ,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAoB,CAAC,CAAC;YAE7D,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,gBAAgB;gBAAE,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAExE,oCAAoC;YACpC,OAAO,KAAK,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC,CAAA;YAErC,OAAO,IAAI,CAAC;QAChB,CAAC;QACD,MAAM,EAAE,KAAK,CAAC,EAAE;YACZ,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAA8B,CAAC,CAAC;YACvE,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,gBAAgB;gBAAE,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAGlE,OAAO,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAA;QAC5C,CAAC;KAKJ,CAAC;IACF,SAAS,EAAE,CAAC,IAAsB,EAAgB,EAAE,CAAC,CAAC;QAClD,MAAM,EAAE,KAAK,CAAC,EAAE;YACZ,OAAO,IAAI,CAAC;QAChB,CAAC;QACD,MAAM,EAAE,KAAK,CAAC,EAAE;YACZ,OAAO,IAAI,CAAC;QAChB,CAAC;KAKJ,CAAC;CACL,CAAA\"}"}
