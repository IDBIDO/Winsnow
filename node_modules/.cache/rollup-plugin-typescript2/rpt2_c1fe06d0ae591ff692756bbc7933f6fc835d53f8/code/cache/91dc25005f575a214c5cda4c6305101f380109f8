{"code":"/******************* FASE1: OBJECT SEND REQUEST  ***********************/\r\nimport { logisticTaskName } from \"./nameManagement\";\r\n/* Fase1.1:  TASK REQUEST CREATION */\r\nexport function moveRequest(id, pos, roomName) {\r\n    const r = {\r\n        type: 'MOVE',\r\n        source: {\r\n            id: id,\r\n            pos: pos,\r\n            roomName: roomName\r\n        }\r\n    };\r\n    return r;\r\n}\r\nexport function transferRequest(id, resourceType, amount) {\r\n    const r = {\r\n        type: 'TRANSFER',\r\n        target: {\r\n            id: id,\r\n            resourceType: resourceType,\r\n            amount: amount,\r\n        }\r\n    };\r\n    return r;\r\n}\r\nexport function withdrawRequest(id, roomName, pos, resourceType) {\r\n    const r = {\r\n        type: 'WITHDRAW',\r\n        source: {\r\n            id: id,\r\n            'roomName': roomName,\r\n            'pos': pos,\r\n            'resourceType': resourceType\r\n        }\r\n    };\r\n    return r;\r\n}\r\n/************** Fase1.2. OBJECT: SEND TASK REQUEST ****************/\r\nexport function sendRequest(roomName, dpt, creepName) {\r\n    Memory['colony'][roomName][dpt]['request'].push(creepName);\r\n}\r\n/******************* FASE2. DEPARTMENT: SEND TASK TO OBJ_DEPARTMENT  ***********************/\r\n/* Fase2.1:  TASK CREATION */\r\nexport function task(request) {\r\n    const task = {\r\n        taskID: logisticTaskName(request),\r\n        data: request\r\n    };\r\n    return task;\r\n}\r\n/* Fase2.2:  SEND LOGISTIC TASK */\r\nexport function sendLogisticTask(roomName, taskName, request) {\r\n    Memory['colony'][roomName]['dpt_logistic']['targetTask'][taskName] = request;\r\n}\r\n/** Game time to resend request */\r\nexport function getTTL(request) {\r\n    if (request.type == 'MOVE')\r\n        return 12;\r\n}\r\n/******************* FASE3. Creep: TASK REQUEST  ***********************/\r\nexport function sendTaskRequest(creepName, roomName) {\r\n    Memory['colony'][roomName]['dpt_logistic']['requestCreep'].push(creepName);\r\n}\r\n///////////////////////////**** OPERATION RESERCH ****/////////////////////////\r\nexport function sendORBuildingTaskCompletation(roomName) {\r\n    Memory['colony'][roomName]['state']['buildColony']['task']['building'] = true;\r\n}\r\nexport function sendORLevelUpTaskCompletation(roomName) {\r\n    Memory['colony'][roomName]['state']['buildColony']['task']['levelUp'] = true;\r\n}\r\n/*\r\nexport function sendBuildTask(roomName: string, constructionSideID: string, type: BuildableStructureConstant, pos: [number,number]):void {\r\n    Memory['colony'][roomName]['dpt_build']['buildTask'][constructionSideID] = {\r\n        'type': type,\r\n        'pos': pos,\r\n        'roomName': roomName\r\n\r\n    }\r\n    //actualize build cost\r\n    const buildCost = Memory['colony'][roomName]['dpt_build']['buildCost'];\r\n    Memory['colony'][roomName]['dpt_build']['buildCost'] = buildCost + CONSTRUCTION_COST[type];\r\n    \r\n}\r\n*/\r\nexport function sendBuildTask(constructionSideID, data) {\r\n    Memory['colony'][data.roomName]['dpt_build']['buildTask'][constructionSideID] = data;\r\n    //actualize build cost\r\n    const buildCost = Memory['colony'][data.roomName]['dpt_build']['buildCost'];\r\n    Memory['colony'][data.roomName]['dpt_build']['buildCost'] = buildCost + CONSTRUCTION_COST[data.type];\r\n}\r\n//# sourceMappingURL=dpt_comunication.js.map","references":["C:/Users/heche/AppData/Local/Screeps/scripts/127_0_0_1___21025/Winsnow/src/colony/nameManagement.ts"],"map":"{\"version\":3,\"file\":\"dpt_comunication.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/colony/dpt_comunication.ts\"],\"names\":[],\"mappings\":\"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\"}"}
