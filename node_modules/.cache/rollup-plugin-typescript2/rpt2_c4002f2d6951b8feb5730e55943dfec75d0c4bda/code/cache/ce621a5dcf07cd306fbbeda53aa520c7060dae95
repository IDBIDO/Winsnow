{"code":"/******************* FASE1: OBJECT SEND REQUEST  ***********************/\r\nimport { taskName } from \"./nameManagement\";\r\n/* Fase1.1:  TASK REQUEST CREATION */\r\nexport function moveRequest(id, pos, roomName) {\r\n    const r = {\r\n        type: 'MOVE',\r\n        source: {\r\n            id: id,\r\n            pos: pos,\r\n            roomName: roomName\r\n        }\r\n    };\r\n    return r;\r\n}\r\nexport function transferRequest(id, resourceType, amount) {\r\n    const r = {\r\n        type: 'TRANSFER',\r\n        target: {\r\n            id: id,\r\n            resourceType: resourceType,\r\n            amount: amount,\r\n        }\r\n    };\r\n    return r;\r\n}\r\nexport function withdrawRequest(id, resourceType) {\r\n    const r = {\r\n        type: 'WITHDRAW',\r\n        source: {\r\n            id: id,\r\n            resourceType: resourceType\r\n        }\r\n    };\r\n    return r;\r\n}\r\n/************** Fase1.2. OBJECT: SEND TASK REQUEST ****************/\r\nexport function sendRequest(roomName, dpt, creepName) {\r\n    Memory['colony'][roomName][dpt]['request'].push(creepName);\r\n}\r\n/******************* FASE2. DEPARTMENT: SEND TASK TO OBJ_DEPARTMENT  ***********************/\r\n/* Fase2.1:  TASK CREATION */\r\nexport function task(request) {\r\n    const task = {\r\n        taskID: taskName(request),\r\n        data: request\r\n    };\r\n    return task;\r\n}\r\n/* Fase2.2:  SEND LOGISTIC TASK */\r\nexport function sendLogisticTask(roomName, taskName, request) {\r\n    if (request.type == 'MOVE' || request.type == 'WITHDRAW') {\r\n        Memory['colony'][roomName]['dpt_logistic']['sourceTask'][taskName] = request;\r\n    }\r\n    else {\r\n        Memory['colony'][roomName]['dpt_logistic']['targetTask'][taskName] = request;\r\n    }\r\n}\r\n/** Game time to resend request */\r\nexport function getTTL(request) {\r\n    if (request.type == 'MOVE')\r\n        return 12;\r\n}\r\n/******************* FASE3. Creep: TASK REQUEST  ***********************/\r\nexport function sendTaskRequest(creepName, roomName) {\r\n    Memory['colony'][roomName]['dpt_logistic']['requestCreep'].push(creepName);\r\n}\r\n///////////////////////////**** OPERATION RESERCH ****/////////////////////////\r\nexport function sendORBuildingTaskCompletation(roomName) {\r\n    Memory['colony'][roomName]['state']['task']['building'] = true;\r\n}\r\nexport function sendORLevelUpTaskCompletation(roomName) {\r\n    Memory['colony'][roomName]['state']['task']['levelUp'] = true;\r\n}\r\n//# sourceMappingURL=dpt_comunication.js.map","references":["C:/Users/heche/AppData/Local/Screeps/scripts/127_0_0_1___21025/Winsnow/src/colony/nameManagement.ts"],"map":"{\"version\":3,\"file\":\"dpt_comunication.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/colony/dpt_comunication.ts\"],\"names\":[],\"mappings\":\"AAEA,yEAAyE;AAEzE,OAAO,EAAE,QAAQ,EAAE,MAAM,kBAAkB,CAAC;AAExC,qCAAqC;AACzC,MAAM,UAAU,WAAW,CAAC,EAAU,EAAE,GAAqB,EAAE,QAAgB;IAE3E,MAAM,CAAC,GAAgB;QACnB,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE;YACJ,EAAE,EAAE,EAAE;YACN,GAAG,EAAE,GAAG;YACR,QAAQ,EAAE,QAAQ;SACrB;KACJ,CAAA;IACD,OAAO,CAAC,CAAC;AACb,CAAC;AAED,MAAM,UAAU,eAAe,CAAC,EAAU,EAAE,YAA8B,EAAE,MAAc;IAEtF,MAAM,CAAC,GAAoB;QACvB,IAAI,EAAE,UAAU;QAChB,MAAM,EAAE;YACJ,EAAE,EAAE,EAAE;YACN,YAAY,EAAE,YAAY;YAC1B,MAAM,EAAE,MAAM;SACjB;KACJ,CAAA;IACD,OAAO,CAAC,CAAC;AACb,CAAC;AAED,MAAM,UAAU,eAAe,CAAC,EAAU,EAAE,YAA8B;IACtE,MAAM,CAAC,GAAoB;QACvB,IAAI,EAAE,UAAU;QAChB,MAAM,EAAE;YACJ,EAAE,EAAE,EAAE;YACN,YAAY,EAAE,YAAY;SAC7B;KACJ,CAAA;IACD,OAAO,CAAC,CAAC;AACb,CAAC;AAGG,oEAAoE;AAExE,MAAM,UAAU,WAAW,CAAC,QAAgB,EAAE,GAAW,EAAE,SAAiB;IACxE,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC/D,CAAC;AAGD,6FAA6F;AACzF,6BAA6B;AACjC,MAAM,UAAU,IAAI,CAAC,OAAoB;IAErC,MAAM,IAAI,GAAS;QACf,MAAM,EAAE,QAAQ,CAAC,OAAO,CAAC;QACzB,IAAI,EAAE,OAAO;KAChB,CAAA;IACD,OAAO,IAAI,CAAC;AAChB,CAAC;AAEG,kCAAkC;AACtC,MAAM,UAAU,gBAAgB,CAAC,QAAgB,EAAG,QAAgB,EAAE,OAAoB;IAEtF,IAAI,OAAO,CAAC,IAAI,IAAI,MAAM,IAAI,OAAO,CAAC,IAAI,IAAI,UAAU,EAAE;QACtD,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC;KAChF;SACI;QACD,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC;KAEhF;AACL,CAAC;AAED,kCAAkC;AAClC,MAAM,UAAU,MAAM,CAAC,OAAoB;IACvC,IAAI,OAAO,CAAC,IAAI,IAAI,MAAM;QAAE,OAAO,EAAE,CAAA;AACzC,CAAC;AAED,yEAAyE;AACzE,MAAM,UAAU,eAAe,CAAC,SAAiB,EAAE,QAAgB;IAC/D,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC/E,CAAC;AAQD,+EAA+E;AAC/E,MAAM,UAAU,8BAA8B,CAAC,QAAgB;IAC3D,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;AACnE,CAAC;AAED,MAAM,UAAU,6BAA6B,CAAC,QAAgB;IAC1D,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC;AAClE,CAAC\"}"}
