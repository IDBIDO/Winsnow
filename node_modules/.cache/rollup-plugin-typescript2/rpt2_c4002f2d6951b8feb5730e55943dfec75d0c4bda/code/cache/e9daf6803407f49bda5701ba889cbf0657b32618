{"code":"import { TranslatePlanning } from \"@/roomPlanning/TranslatePlanning\";\r\n/*\r\nMemory.colony.\r\n        mainRoom.\r\n            state{}\r\n            roomPlanning{}\r\n            dpt_work{}\r\n*/\r\n/*\r\n    Colony's memory block inizializer.\r\n    Only when create a new colony\r\n*/\r\nexport class Mem {\r\n    constructor(roomName) {\r\n        this.mainRoom = roomName;\r\n        //this.build();\r\n    }\r\n    initializeWorkerCreepsMem() {\r\n        //initialize dpt_workers creeps\r\n        const colonyMem = Memory['colony'][this.mainRoom];\r\n        const namePrefix = this.mainRoom;\r\n        colonyMem['dpt_work']['creep'][namePrefix + '_dptWork_1'] = {};\r\n        colonyMem['dpt_work']['creep'][namePrefix + '_dptWork_1']['active'] = false;\r\n        colonyMem['dpt_work']['creep'][namePrefix + '_dptWork_1']['setting'] = {};\r\n        colonyMem['dpt_work']['creep'][namePrefix + '_dptWork_2'] = {};\r\n        colonyMem['dpt_work']['creep'][namePrefix + '_dptWork_2']['active'] = false;\r\n        colonyMem['dpt_work']['creep'][namePrefix + '_dptWork_2']['setting'] = {};\r\n    }\r\n    initializeDptWork() {\r\n        const colonyMem = Memory['colony'][this.mainRoom];\r\n        colonyMem['dpt_work'] = {};\r\n        colonyMem['dpt_work']['creep'] = {};\r\n        colonyMem['dpt_work']['ticksToSpawn'] = {};\r\n        colonyMem['dpt_work']['buildTask'] = {};\r\n        colonyMem['dpt_work']['completeBuildTask'] = {};\r\n        colonyMem['dpt_work']['repairTask'] = {};\r\n        colonyMem['dpt_work']['completeRepairTask'] = {};\r\n        this.initializeWorkerCreepsMem();\r\n    }\r\n    /*\r\n        request mem for a new colony\r\n    */\r\n    initializeColonyMem() {\r\n        if (!Memory['colony']) {\r\n            Memory['colony'] = {};\r\n        }\r\n        delete Memory['colony'][this.mainRoom];\r\n        Memory['colony'][this.mainRoom] = {};\r\n        const colonyMem = Memory['colony'][this.mainRoom];\r\n        colonyMem['state'] = {};\r\n        colonyMem['state']['buildColony'] = {};\r\n        colonyMem['state']['buildColony']['buildRCL'] = 0;\r\n        colonyMem['state']['buildColony']['fase'] = 0;\r\n        colonyMem['state']['buildColony']['working'] = false;\r\n        colonyMem['state']['buildColony']['task'] = {};\r\n        colonyMem['state']['buildColony']['task']['building'] = false;\r\n        colonyMem['state']['buildColony']['task']['levelUP'] = false;\r\n        colonyMem['state']['import'] = {};\r\n        colonyMem['state']['updateRoomPlanning'] = true;\r\n        colonyMem['state']['updateCreepNum'] = true;\r\n        colonyMem['state']['updateCreepNumWorker'] = true;\r\n        colonyMem['state']['updateCreepNum'] = 1;\r\n        //save roomPlaning Block\r\n        let planning = new TranslatePlanning(this.mainRoom);\r\n        planning.savePlanningModel();\r\n        colonyMem['creepSpawning'] = {};\r\n        colonyMem['creepSpawning']['spawn'] = [];\r\n        colonyMem['creepSpawning']['task'] = {};\r\n        colonyMem['creepSpawning']['completeTask'] = {};\r\n        this.initializeDptHarvest();\r\n        this.initializeDptLogistic();\r\n        this.initializeDptWork();\r\n    }\r\n    initializeDptLogistic() {\r\n        const colonyMem = Memory['colony'][this.mainRoom];\r\n        colonyMem['dpt_logistic'] = {};\r\n        colonyMem['dpt_logistic']['storage'] = [];\r\n        colonyMem['dpt_logistic']['request'] = [];\r\n        colonyMem['dpt_logistic']['sourceTask'] = {};\r\n        colonyMem['dpt_logistic']['targetTask'] = {};\r\n        colonyMem['dpt_logistic']['creep'] = {};\r\n        colonyMem['dpt_logistic']['ticksToSpawn'] = {};\r\n        colonyMem['sourceContainer'] = [];\r\n        colonyMem['controllerContainer'] = [];\r\n    }\r\n    initializeDptHarvest() {\r\n        const colonyMem = Memory['colony'][this.mainRoom];\r\n        colonyMem['dpt_harvest'] = {};\r\n        //harvesters collect energy request \r\n        colonyMem['dpt_harvest']['request'] = [];\r\n        colonyMem['dpt_harvest']['creep'] = {};\r\n        //'id': [Pos1, Pos2, Pos3...]\r\n        colonyMem['dpt_harvest']['ticksToSpawn'] = {};\r\n    }\r\n}\r\n//# sourceMappingURL=Memory.js.map","references":["C:/Users/heche/AppData/Local/Screeps/scripts/127_0_0_1___21025/Winsnow/src/roomPlanning/TranslatePlanning.ts"],"map":"{\"version\":3,\"file\":\"Memory.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/colony/Memory.ts\"],\"names\":[],\"mappings\":\"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\"}"}
