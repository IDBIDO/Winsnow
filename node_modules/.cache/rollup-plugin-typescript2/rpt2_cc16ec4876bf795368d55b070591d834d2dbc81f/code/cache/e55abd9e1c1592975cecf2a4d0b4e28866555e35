{"code":"export const energyAvailable = [300, 550, 800, 1300, 1800, 2300, 5600, 10000];\r\nexport function getEnergyRCL(energyAmount) {\r\n    let found = false;\r\n    let i = 0;\r\n    while (!found && i < 8) {\r\n        if (energyAmount <= energyAvailable[i])\r\n            return i + 1;\r\n        ++i;\r\n    }\r\n    return -1;\r\n}\r\nexport function getBody(role, rcl) {\r\n    let prototype = bodyPrototype[role];\r\n    const componentNum = bodyComponentNum[role][rcl];\r\n    let act = [];\r\n    for (let i in prototype) {\r\n        for (let j = 0; j < componentNum[i]; ++j) {\r\n            act.push(prototype[i]);\r\n        }\r\n    }\r\n    return act;\r\n}\r\nexport function getQueenBody() {\r\n}\r\nexport function ticksToSpawn(role, rcl) {\r\n    const componentNum = bodyComponentNum[role][rcl.toString()];\r\n    const ticks = componentNum.reduce((x, y) => x + y, 0);\r\n    return ticks * 3;\r\n}\r\nexport const bodyPrototype = {\r\n    harvester: [WORK, CARRY, MOVE],\r\n    worker: [WORK, CARRY, MOVE],\r\n    builder: [WORK, CARRY, MOVE],\r\n    transporter: [CARRY, MOVE],\r\n    initializer: [WORK, CARRY, MOVE],\r\n    iniQueen: [CARRY, MOVE],\r\n    upgrader_base: [WORK, CARRY, MOVE]\r\n};\r\nexport const bodyComponentNum = {\r\n    //WORK  CARRY   MOVE\r\n    harvester: {\r\n        1: [2, 1, 1],\r\n        2: [3, 1, 2],\r\n        3: [4, 1, 2],\r\n        4: [5, 1, 2],\r\n        5: [5, 2, 3],\r\n        6: [6, 4, 3],\r\n        7: [6, 6, 3],\r\n        8: [6, 6, 3],\r\n    },\r\n    worker: {\r\n        1: [1, 1, 1],\r\n        2: [2, 2, 2]\r\n    },\r\n    builder: {\r\n        1: [1, 3, 1],\r\n        2: [1, 3, 1],\r\n        3: [1, 3, 1],\r\n        4: [1, 3, 1],\r\n        5: [2, 4, 2],\r\n        6: [3, 5, 3],\r\n        7: [5, 7, 5],\r\n        8: [7, 9, 7]\r\n    },\r\n    upgrader_base: {\r\n        1: [2, 1, 1],\r\n        2: [2, 1, 1],\r\n        3: [3, 2, 2],\r\n        4: [4, 2, 2],\r\n        5: [4, 2, 2],\r\n        6: [6, 2, 3],\r\n        7: [10, 2, 5],\r\n        8: [15, 3, 8]\r\n    },\r\n    transporter: {\r\n        1: [3, 3],\r\n        2: [3, 3]\r\n    },\r\n    initializer: {\r\n        1: [2, 1, 1]\r\n    },\r\n    iniQueen: {\r\n        1: [3, 3],\r\n    }\r\n};\r\nexport const bodyConfigs = {\r\n    harvester: {\r\n        1: { WORK: 2, CARRY: 1, MOVE: 1 },\r\n        2: { WORK: 4, CARRY: 1, MOVE: 2 }\r\n    },\r\n    worker: {\r\n        1: { \"work\": 1, \"carry\": 1, \"move\": 1 },\r\n        2: { WORK: 2, CARRY: 2, MOVE: 2 }\r\n    },\r\n    transporter: {\r\n        1: { CARRY: 3, MOVE: 3 },\r\n        2: { CARRY: 3, MOVE: 3 }\r\n    }\r\n};\r\nexport const numConfigs = {\r\n    1: {\r\n        harvester: 2,\r\n        worker: 2\r\n    }\r\n};\r\nexport function workerSourceConfigUpdate(energyRCL, roomName) {\r\n    console.log(energyRCL);\r\n    if (energyRCL == 1) {\r\n        const colonyMem = Memory['colony'][roomName];\r\n        const namePrefix = roomName;\r\n        const sourcePos = colonyMem['roomPlanning']['model']['source'];\r\n        const source1 = sourcePos[0];\r\n        const source2 = sourcePos[1];\r\n        const source1Pos = new RoomPosition(source1[0], source1[1], roomName);\r\n        const source2Pos = new RoomPosition(source2[0], source2[1], roomName);\r\n        const s1 = source1Pos.lookFor(LOOK_SOURCES);\r\n        const s2 = source2Pos.lookFor(LOOK_SOURCES);\r\n        console.log(s1);\r\n        colonyMem['dpt_work']['creep'][namePrefix + '_dptWork_1']['setting']['source'] = s1[0].id;\r\n        colonyMem['dpt_work']['creep'][namePrefix + '_dptWork_2']['setting']['source'] = s2[0].id;\r\n    }\r\n}\r\nexport function workerConfigUpdate(roomName, dptName, energyRCL) {\r\n    if (energyRCL == 1) {\r\n        const source1id = Memory['colony'][roomName]['roomPlanning']['model']['source']['energy1'];\r\n        const source2id = Memory['colony'][roomName]['roomPlanning']['model']['source']['energy2'];\r\n        const creepsMem = Memory['colony'][roomName][dptName]['creep'];\r\n        let creepNameList = Array();\r\n        for (let creepName in creepsMem) {\r\n            creepNameList.push(creepName);\r\n        }\r\n        creepsMem[creepNameList[0]]['source'] = source1id;\r\n        creepsMem[creepNameList[1]]['source'] = source2id;\r\n    }\r\n}\r\nexport function updateCreepSetting(roomName, dptName, energyRCL) {\r\n    switch (dptName) {\r\n        case 'dpt_work':\r\n            workerConfigUpdate(roomName, dptName, energyRCL);\r\n            break;\r\n        case 'dpt_harvest':\r\n            break;\r\n        default:\r\n            console.log('Department name incorrect !');\r\n    }\r\n}\r\n//# sourceMappingURL=setting.js.map","references":[],"map":"{\"version\":3,\"file\":\"setting.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/creep/setting.ts\"],\"names\":[],\"mappings\":\"AAAA,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAA;AAI7E,MAAM,UAAU,YAAY,CAAC,YAAoB;IAE7C,IAAI,KAAK,GAAG,KAAK,CAAC;IAClB,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,OAAO,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE;QACpB,IAAI,YAAY,IAAI,eAAe,CAAC,CAAC,CAAC;YAAE,OAAO,CAAC,GAAC,CAAC,CAAC;QACnD,EAAE,CAAC,CAAC;KACP;IACD,OAAO,CAAC,CAAC,CAAC;AACd,CAAC;AAED,MAAM,UAAU,OAAO,CAAC,IAAY,EAAE,GAAW;IAE7C,IAAI,SAAS,GAAuB,aAAa,CAAC,IAAI,CAAC,CAAC;IAExD,MAAM,YAAY,GAAG,gBAAgB,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;IACjD,IAAI,GAAG,GAAuB,EAAE,CAAC;IACjC,KAAK,IAAI,CAAC,IAAI,SAAS,EAAE;QACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAG;YACvC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;SAC1B;KACJ;IACD,OAAO,GAAG,CAAC;AACf,CAAC;AAED,MAAM,UAAU,YAAY;AAE5B,CAAC;AAED,MAAM,UAAU,YAAY,CAAC,IAAY,EAAE,GAAW;IAClD,MAAM,YAAY,GAAY,gBAAgB,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;IACrE,MAAM,KAAK,GAAU,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAA;IAC5D,OAAO,KAAK,GAAC,CAAC,CAAA;AAClB,CAAC;AAID,MAAM,CAAC,MAAM,aAAa,GAAG;IACzB,SAAS,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC;IAC9B,MAAM,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC;IAC3B,OAAO,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC;IAC5B,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC;IAC1B,WAAW,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC;IAChC,QAAQ,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC;IACvB,aAAa,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC;CACrC,CAAA;AAGD,MAAM,CAAC,MAAM,gBAAgB,GAAG;IAC5B,oBAAoB;IACpB,SAAS,EAAC;QACN,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;KAEf;IAED,MAAM,EAAE;QACJ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;KACf;IACD,OAAO,EAAE;QACL,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;KAEf;IACD,aAAa,EAAE;QACX,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACZ,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;QACb,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;KAChB;IAED,WAAW,EAAE;QACT,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACT,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;KACZ;IAED,WAAW,EAAE;QACT,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;KACf;IACD,QAAQ,EAAE;QACN,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;KACZ;CAEJ,CAAA;AAED,MAAM,CAAC,MAAM,WAAW,GAAG;IACvB,SAAS,EAAC;QACN,CAAC,EAAE,EAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAC;QAC/B,CAAC,EAAE,EAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAC;KAClC;IAED,MAAM,EAAE;QACJ,CAAC,EAAE,EAAC,MAAM,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAC;QACrC,CAAC,EAAE,EAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAC;KAClC;IAED,WAAW,EAAE;QACT,CAAC,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAC;QACtB,CAAC,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAC;KACzB;CAEJ,CAAA;AAED,MAAM,CAAC,MAAM,UAAU,GAAG;IACtB,CAAC,EAAE;QACC,SAAS,EAAE,CAAC;QACZ,MAAM,EAAE,CAAC;KACZ;CACJ,CAAA;AAKD,MAAM,UAAU,wBAAwB,CAAC,SAAiB,EAAE,QAAgB;IACxE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAEvB,IAAI,SAAS,IAAI,CAAC,EAAE;QAChB,MAAM,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;QAC7C,MAAM,UAAU,GAAG,QAAQ,CAAC;QAE5B,MAAM,SAAS,GAAG,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC;QAC/D,MAAM,OAAO,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;QAC7B,MAAM,OAAO,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;QAE7B,MAAM,UAAU,GAAG,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;QACtE,MAAM,UAAU,GAAG,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;QAEtE,MAAM,EAAE,GAAG,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QAC5C,MAAM,EAAE,GAAG,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QAE5C,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAEhB,SAAS,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,GAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAExF,SAAS,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,GAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;KAC3F;AACL,CAAC;AAED,MAAM,UAAU,kBAAkB,CAAC,QAAgB,EAAE,OAAe,EAAE,SAAiB;IAEnF,IAAI,SAAS,IAAI,CAAC,EAAE;QAChB,MAAM,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;QAC3F,MAAM,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;QAE3F,MAAM,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC;QAC/D,IAAI,aAAa,GAAG,KAAK,EAAU,CAAC;QACpC,KAAK,IAAI,SAAS,IAAI,SAAS,EAAE;YAC7B,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACjC;QAED,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC;QAClD,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC;KACrD;AACL,CAAC;AAID,MAAM,UAAU,kBAAkB,CAAE,QAAgB,EAAG,OAAe,EAAE,SAAiB;IACrF,QAAQ,OAAO,EAAE;QACb,KAAK,UAAU;YACX,kBAAkB,CAAC,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;YACjD,MAAM;QAEV,KAAK,aAAa;YACd,MAAM;QAEV;YACI,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;KAElD;AAEL,CAAC\"}"}
